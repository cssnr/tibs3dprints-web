{% extends "main.html" %}
{% block title %}Home{% endblock %}
{% load home_tags %}
{% load static %}

{% block head %}{% endblock %}

{% block body %}

  <h1>Tibs3DPrints Web</h1>

  {% if request.user.is_superuser %}
    <p>
      <a class="link-info text-decoration-none" href="{% url 'admin:home_tiktokuser_changelist' %}">
        <i class="fa-solid fa-plane-departure fa-lg me-2"></i> Manage Users
      </a>
    </p>
  {% else %}
    <p>Server for the client application. For more information please visit one of the following links:</p>
    <ul>
      <li><a href="https://app.tibs3dprints.com/">Website</a></li>
      <li><a href="https://www.tiktok.com/@tibby216">TikTok</a></li>
      <li><a href="https://www.youtube.com/@Tibs3DPrints">YouTube</a></li>
    </ul>
  {% endif %}

  <h2 class="mt-4">Administration</h2>
  {% if not request.user.is_authenticated %}
    <p>
      <a href="{% url 'oauth:login' %}?next={{ request.path }}" class="btn btn-outline-info" role="button">
        Log in with Discord <i class="fas fa-sign-in-alt ms-2"></i>
      </a>
    </p>
  {% else %}
    {% if request.user.is_superuser %}
      <p>Welcome, <b>{{ request.user.get_name }}</b>.</p>

      <div class="row">
        <div class="col-md-6 mb-3 mb-sm-0">
          <div class="card">
            <h2 class="card-header"><i class="fa-solid fa-scale-unbalanced"></i> Polls</h2>
            <div class="card-body">
              <h5 class="card-title">Poll Management</h5>
              <p class="card-text">Manage, Create, Edit Polls, Choices, and Votes.</p>
              <a href="{% url 'admin:home_poll_changelist' %}" class="btn btn-primary">Manage</a>
              <a href="{% url 'admin:home_poll_add' %}" class="btn btn-success">Add</a>
              <a href="{% url 'admin:home_choice_changelist' %}" class="btn btn-info">Choices</a>
              <a href="{% url 'admin:home_vote_changelist' %}" class="btn btn-info">Votes</a>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card">
            <h2 class="card-header"><i class="fa-solid fa-users"></i> Users</h2>
            <div class="card-body">
              <h5 class="card-title">User Management</h5>
              <p class="card-text">View Users and Manage Beta Testers.</p>
              <a href="{% url 'admin:home_tiktokuser_changelist' %}" class="btn btn-primary">TikTok Users</a>
              <a href="{% url 'admin:home_betauser_changelist' %}" class="btn btn-info">Beta Testers</a>
            </div>
          </div>
        </div>
      </div>

    {% else %}
      <p>Please contact the administrator if you think this is an error.</p>
    {% endif %}
  {% endif %}

{% endblock %} <!-- body -->

{% block tail %}
  <script type="text/javascript" src="{% static 'js/home.js' %}"></script>
{% endblock %}
